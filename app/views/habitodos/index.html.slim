/ todo textareaã§ã‚‚ã€caretã‚’é§†ä½¿ã™ã‚Œã°setPosã—ã¦ç›®æ¬¡ã¯å®Ÿç¾ã§ããã†ã ãª
/ todo turbolinksã¨ã®å…±å­˜ã‚’ãƒˆãƒ©ã‚¤ã—ã¦
/- content_for :addjs_in_head
/ NOTE: data-turbolinks-eval: falseã«ã™ã‚‹ã“ã¨ã§ã€turbolinksã«ã‚ˆã‚‹é·ç§»ã§ã‚‚ã€ã“ã®ãƒšãƒ¼ã‚¸ã®æœ€åˆã®è¡¨ç¤ºæ™‚ã«ä¸€åº¦ã ã‘Scriptã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¦ã‚‹ã®ã§ï¼‰
/ ã§ã‚‚ã€ä»Šã¯Habitodoã¸ã®ãƒªãƒ³ã‚¯ã«turbolinksã‚’offã«ã—ã¦ã„ã‚‹ã®ã§ã€æ¯å›ã€æœ€åˆã®è¡¨ç¤ºã¨åŒã˜çŠ¶æ…‹ãªã®ã§æ„å‘³ãªã„ã‹ã‚‚ã ãŒã€Vue.jsã¸ã®tagã«ã¯æ¯å›ä»˜ã‘ãŸã»ã†ãŒã„ã„ã¯ãš
= javascript_pack_tag 'habitodos', 'data-turbolinks-eval': 'false'

#habitodo
  #habitodo-header.row.bg-dark.text-light
    .flex-grow-1 todoä½•ã‚’è¡¨ç¤ºï¼Ÿ
    .flex-grow-0 Chrome only
  #habitodo-body.row
    #sidebar-left.overflow-y-scroll.col-sm-2.order-1.order-sm-1.bg-secondary.text-light
      ul#doclist.list-unstyled.mt-3
        li.d-flex.p-0 [
          v-for="(h, key) in sortedHabitodos"
          v-bind:key="h.uuid"
          v-bind:class="h.isCurrent ? 'selected-data' : ''"
          v-on:click="showDoc(h.uuid)"
          v-on:mouseover="addHilightOnList($event)"
          v-on:mouseout="removeHilightOnList($event)"
        ]
          .flex-grow-1
            | {{ h.title }}
          .ml-2
            / ãƒãƒ–ãƒªãƒ³ã‚°ã‚’æ­¢ã‚ã‚‹ï¼ˆsaveBodyã®å¾Œã«showDocã—ã¦ã‚‹ã®ã§çµå±€å®Ÿè¡Œã•ã‚Œã¦ã—ã¾ã†ãŒã€æ„å›³ã¨ã—ã¦æ®‹ã™ï¼‰
            i.fa.fa-save v-show="h.unsaved" v-on:click.stop="saveBody(h.uuid)"
          .ml-3.mr-2
            / TODO: ã‚¹ãƒãƒ›ã§ã‚µã‚¤ãƒ‰ãƒãƒ¼é ˜åŸŸã®é«˜ã•ã‚’ä½ãã—ãŸãŸã‚ã«ã€dropdownãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒå…¨éƒ¨è¡¨ç¤ºã•ã‚Œãªããªã£ã¦ã—ã¾ã£ãŸ
            .dropdown
              a.dropdown-toggle.text-light data-toggle="dropdown"
              .dropdown-menu.dropdown-menu-right.dropdown-menu-wide
                .change-title-form.p-2
                  .form-group
                    input type="text" class="form-control" v-model="sortedHabitodos[key].title"
                  .form-group
                    label ä¸¦ã³é †ï¼ˆæ•°å€¤ãŒå¤§ãã„é †ï¼‰
                    input type="text" class="form-control" v-model="sortedHabitodos[key].order_number"
                  .text-center
                    a.btn.btn-primary[href="javascript:void(0)" v-on:click="saveAttrs(h.uuid)"] å¤‰æ›´
                .dropdown-divider
                .p-2.text-danger.text-center v-on:click.stop="deleteData(h.uuid)"
                  a.btn.btn-danger[href="javascript:void(0)"]
                    i.fa.fa-trash.ml-1
                    | å‰Šé™¤

      / æ–°è¦ä½œæˆ
      create-form v-on:created-data='onCreatedData'

      / æ¤œç´¢
      .searchbox.input-group.mt-5.mb-3
        input type='text' class='form-control' v-model='searchWord' v-on:keyup="preSearchData()" placeholder="æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰"
        .input-group-append
          span.input-group-text[v-on:click="searchData()" v-bind:style="{ color: searchBtnColor }"] æ¤œç´¢
      ul.search-result.list-group.list-group-flush.list-unstyled.mt-3.mb-3(v-if="searchResult.length > 0")
        li.list-group-item.list-group-item-primary.cursor-pointer [
          v-for="d in searchResult"
          v-bind:key="`${d.docId}-${d.rows}`"
          v-on:click="selectFoundData(d.docId, d.rows)"
        ]
          | {{ d.text + '(' + d.rows + ')' }}

    #middle-area.overflow-y-scroll.col-sm-8.order-3.order-sm-2.middle-area
      p v-show="habitodos.length == 0" ãƒ‡ãƒ¼ã‚¿ãªã„ã§ã™
      / NOTE: min-height:100%ã«ã—ã¦ãŠãã¨ã€contentEditableã®è¦ç´ ã«å€¤ãŒãªãã¦ã‚‚ã€é ˜åŸŸå…¨éƒ¨ãŒã‚¯ãƒªãƒƒã‚«ãƒ–ãƒ«ã«ãªã£ã¦ç·¨é›†å¯èƒ½
      .editor.min-h100 [
        v-for="ht in habitodos"
        v-bind:key="ht.uuid"
        v-show="ht.isCurrent"
        v-on:keydown="handleKeyinput($event, ht.uuid)"
        v-bind:id="`editor-${ht.uuid}`"
        contentEditable=true
        v-html="ht.markdownedBody"
      ]

    #sidebar-right.overflow-y-scroll.col-sm-2.order-2.order-sm-3.bg-light.text-secondary
      #mokujis.mt-3
        h4.text-center ç›®æ¬¡
        ul.mokuji-list
          li [
            v-for="m in mokuji"
            v-bind:key="m['anchor']"
          ]
            a v-bind:href="'#' + m['anchor']" v-text="m['text']" :class="m['style_class']"

scss:
  .middle-area {
    /* .editorå†…fontSize(em)ã®åŸºæº– */
    font-size: 16px;

    &.col-sm-8 {
      padding-left: 0;
      padding-right: 0;
    }
  }
  .editor {
    padding: 15px;
    font-size: 1.1em;
    line-height: 1.8em;

    p {
      margin-bottom: 0;
    }

    h1 { font-size: 2.2em; }
    h2 { font-size: 1.9em; }
    h3 { font-size: 1.6em; }
    h4 { font-size: 1.4em; }
    h5 { font-size: 1.2em; }

  }
  ul#doclist {
    li {
      color: white;
      cursor: pointer;
    }
    li.selected-data {
      background-color: cornflowerblue;
    }
  }
  ul.mokuji-list {
    list-style-type: none;
    padding-left: 0;

    a {
      display: inline-block;
    }

    .mokuji-h1 {
      font-size: 1.3rem;
      font-weight: bold;
      color: #932674;
      margin-top: 10px;
    }
    .mokuji-h1:before {
      content: '';
      border-left: 5px solid #932674;
      padding-left: 7px;
    }
    .mokuji-h2 {
      font-size: 1.1rem;
      color: #932674;
    }
    .mokuji-h2:before {
      /* content: 'ğŸŸ§'; */
      content: 'ğŸ”¸';
      padding-left: 7px;
    }
    .mokuji-h3 {
      font-size: 1.0rem;
      color: #B75C9D;
      padding-left: 5px;
    }
    .mokuji-h3:before {
      content: 'â—¾';
      padding-left: 7px;
    }
    .mokuji-h4, .mokuji-h5 {
      font-size: 0.9rem;
      color: #C97FB4;
      padding-left: 5px;
    }
    .mokuji-h4:before, .mokuji-h5:before {
      content: 'â—¾';
      padding-left: 7px;
    }
  }
